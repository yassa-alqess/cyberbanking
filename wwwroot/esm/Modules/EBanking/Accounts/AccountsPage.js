import{a as B,b as y,c,d,e as l}from"../../../_chunks/chunk-SUCL7J3Q.js";import{a as f}from"../../../_chunks/chunk-4MAJQGUF.js";import{a as u,b as a,c as p,e as b,f as R}from"../../../_chunks/chunk-ZR7A2VZA.js";var U=a(R(),1);var g=a(b(),1);var r=a(b(),1);var i=class extends r.EntityDialog{constructor(){super(...arguments);this.form=new y(this.idPrefix)}getFormKey(){return y.formKey}getRowDefinition(){return c}getService(){return d.baseUrl}getToolbarButtons(){let o=super.getToolbarButtons();return this.entity&&this.entity.AccountId&&o.forEach(n=>{n.visible=!1}),o}updateInterface(){super.updateInterface(),this.isEditMode()&&(r.EditorUtils.setReadOnly(this.form.Balance,!0),r.EditorUtils.setReadOnly(this.form.AccountType,!0),r.EditorUtils.setReadOnly(this.form.OpenDate,!0),r.EditorUtils.setReadOnly(this.form.CustomerId,!0),this.deleteButton.hide(),this.applyChangesButton.hide(),this.saveAndCloseButton.hide())}};u(i,"AccountsDialog"),i=p([r.Decorators.registerClass("cyberbanking.EBanking.AccountsDialog")],i);var t=a(R(),1);var s=class extends g.EntityGrid{getColumnsKey(){return B.columnsKey}getDialogType(){return i}getRowDefinition(){return c}getService(){return d.baseUrl}constructor(e){super(e)}getButtons(){let e=super.getButtons();return t.Authorization.hasPermission(l.Security)&&e.splice(0,1),e}getColumns(){let e=super.getColumns(),o=(0,t.first)(e,n=>n.field==c.Fields.CustomerUsername);return t.Authorization.hasPermission(l.Security)&&(o.visible=!0),e}getQuickFilters(){var n,h,C;let e=super.getQuickFilters();t.Authorization.hasPermission(l.Security)||e.splice((0,t.indexOf)(e,m=>m.field==c.Fields.CustomerUsername),1);let o=(h=(0,t.tryFirst)((n=f.getLookup())==null?void 0:n.items,m=>m.Username==="admin"))==null?void 0:h.UserId.toString();return o&&((C=f.getLookup())==null||C.items.splice((0,t.indexOf)(f.getLookup().items,m=>m.UserId.toString()===o),1)),e}};u(s,"AccountsGrid"),s=p([g.Decorators.registerClass("cyberbanking.EBanking.AccountsGrid")],s);function w(){(0,U.initFullHeightGridPage)(new s($("#GridDiv")).element)}u(w,"pageInit");export{w as default};
//# sourceMappingURL=AccountsPage.js.map
