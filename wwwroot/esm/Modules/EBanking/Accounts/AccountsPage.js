import{a as b,b as y,c,d as p,e as l}from"../../../_chunks/chunk-PKELFUWV.js";import{a as f}from"../../../_chunks/chunk-4MAJQGUF.js";import{a as u,b as a,c as d,e as h,f as C}from"../../../_chunks/chunk-ZR7A2VZA.js";var R=a(C(),1);var g=a(h(),1);var r=a(h(),1);var i=class extends r.EntityDialog{constructor(){super(...arguments);this.form=new y(this.idPrefix)}getFormKey(){return y.formKey}getRowDefinition(){return c}getService(){return p.baseUrl}getToolbarButtons(){let o=super.getToolbarButtons();return this.entity&&this.entity.AccountId&&o.forEach(n=>{n.visible=!1}),o}updateInterface(){super.updateInterface(),this.isEditMode()&&(r.EditorUtils.setReadOnly(this.form.Balance,!0),r.EditorUtils.setReadOnly(this.form.AccountType,!0),r.EditorUtils.setReadOnly(this.form.OpenDate,!0),r.EditorUtils.setReadOnly(this.form.CustomerId,!0),this.deleteButton.hide(),this.applyChangesButton.hide(),this.saveAndCloseButton.hide())}};u(i,"AccountsDialog"),i=d([r.Decorators.registerClass("cyberbanking.EBanking.AccountsDialog")],i);var t=a(C(),1);var s=class extends g.EntityGrid{getColumnsKey(){return b.columnsKey}getDialogType(){return i}getRowDefinition(){return c}getService(){return p.baseUrl}constructor(e){super(e)}getButtons(){let e=super.getButtons();return t.Authorization.hasPermission(l.Security),e}getColumns(){let e=super.getColumns(),o=(0,t.first)(e,n=>n.field==c.Fields.CustomerUsername);return t.Authorization.hasPermission(l.Security)&&(o.visible=!0),e}getQuickFilters(){var n;let e=super.getQuickFilters();t.Authorization.hasPermission(l.Security)||e.splice((0,t.indexOf)(e,m=>m.field==c.Fields.CustomerUsername),1);let o=(n=(0,t.tryFirst)(f.getLookup().items,m=>m.Username==="admin"))==null?void 0:n.UserId.toString();return o&&f.getLookup().items.splice((0,t.indexOf)(f.getLookup().items,m=>m.UserId.toString()===o),1),e}};u(s,"AccountsGrid"),s=d([g.Decorators.registerClass("cyberbanking.EBanking.AccountsGrid")],s);function U(){(0,R.initFullHeightGridPage)(new s($("#GridDiv")).element)}u(U,"pageInit");export{U as default};
//# sourceMappingURL=AccountsPage.js.map
